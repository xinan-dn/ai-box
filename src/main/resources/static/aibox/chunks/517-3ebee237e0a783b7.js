(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{712:function(e,t,n){"use strict";var l,a,s,i,r,c,o,d,u,x;n.d(t,{EA:function(){return i},HY:function(){return l},SN:function(){return r},WA:function(){return a}}),(c=l||(l={})).WechatPayH5="WECHAT_PAY_H5",c.WechatPayJSAPI="WECHAT_PAY_JSAPI",c.WechatPayNative="WECHAT_PAY_NATIVE",(o=a||(a={})).Pending="pending",o.Completed="completed",o.Error="error",o.Expired="expired",o.Refunded="refunded",(d=s||(s={})).Active="active",d.Expired="expired",(u=i||(i={})).Free="free",u.Basic="basic",(x=r||(r={})).Subscription="subscription",x.Quota="quota"},4617:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var l=n(7458),a=n(8194),s=n(7608),i=n.n(s),r=n(3419);n(2983);var c=n(1911),o=n(3355);function d(e){let{name:t,className:n,hoverShow:s}=e,d=(0,c.Ek)("toggleFavoriteTemplate"),[u,x]=(0,r.KO)(o.JW),m=(0,r.Dv)(o.Rx),h=e=>{e.preventDefault();let n=!!(u.favoriteTemplates&&u.favoriteTemplates[t]);d({templateName:t,isFavorite:!n}).then(e=>{"success"in e||x(e)})};return m.id?u.favoriteTemplates&&u.favoriteTemplates[t]?(0,l.jsx)(a.e0l,{onClick:h,color:"#fbbf24",className:i()(n,"scale-150")}):(0,l.jsx)(a.r7p,{onClick:h,color:"#fbbf24",className:i()(n,"scale-150",s&&"hidden md:group-hover:block")}):null}},2122:function(e,t,n){"use strict";var l=n(7458),a=n(2983);let s=()=>(0,l.jsx)("footer",{className:"mt-auto flex w-full justify-center py-4",children:(0,l.jsx)("a",{href:"https://beian.miit.gov.cn/",className:"text-sm text-gray-400",children:"沪ICP备19036898号-2"})});t.Z=(0,a.memo)(s)},4038:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var l=n(7458),a=n(8194),s=n(712),i=n(6161),r=n(3474),c=n.n(r),o=n(40),d=n(2181),u=n(4039),x=n(741),m=n(3419),h=n(8651),p=n.n(h),f=n(6862),v=n(2983),g=n(3355),b=n(1411),j=n(7608),N=n.n(j);let k=e=>{let{children:t,onClick:n}=e;return(0,l.jsx)(b.ck,{disabled:void 0===n,onClick:n,className:"group relative flex h-[35px] cursor-pointer select-none items-center rounded-[3px] px-2 text-[16px] leading-none text-black outline-none data-[highlighted]:bg-black data-[highlighted]:text-white",children:t})},w=e=>{let{trigger:t,children:n,className:s,onOpenChange:r}=e;return(0,l.jsxs)(b.fC,{onOpenChange:r,children:[(0,l.jsx)(b.xz,{asChild:!0,children:(0,l.jsxs)(i.Z,{className:N()(s,"flex flex-row items-center gap-2"),children:[t,(0,l.jsx)(a.RYk,{})]})}),(0,l.jsx)(b.Uv,{children:(0,l.jsx)(b.VY,{className:"data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade min-w-[180px] rounded-md bg-white p-[5px] shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform]",sideOffset:10,children:n})})]})},C=()=>{var e,t,n;let[r,h]=(0,m.KO)(g.Rx),[b,j]=(0,m.KO)(g.gr),N=(0,f.useRouter)(),C=(0,d.S)(),{openLoginDialog:_}=(0,x.Z)(),{openBindDialog:A}=(0,o.Z)(),{hideWechatLogin:y,hidePayment:T}=(0,u.Z)(),E=(0,v.useMemo)(()=>{var e;return(null===(e=C.data)||void 0===e?void 0:e.plan)!==s.EA.Free},[null===(e=C.data)||void 0===e?void 0:e.plan]),P=(0,v.useMemo)(()=>"绑定".concat(r.phoneNumber?"微信":"手机号"),[r.phoneNumber]),Z=(0,v.useCallback)(()=>{j({}),h({})},[j,h]),Y=(0,v.useCallback)(()=>{A(r.phoneNumber?"wechat":"mobile")},[A,r.phoneNumber]),D=(0,v.useCallback)(e=>{if(e){N.push("/payment?itemType=".concat(e));return}N.push("/payment")},[N]);return(0,l.jsx)("nav",{className:"sticky top-0 left-0 z-10 w-full flex-none border-b border-slate-900/10 bg-white/80 backdrop-blur",children:(0,l.jsx)("div",{className:"max-w-8xl mx-auto",children:(0,l.jsx)("div",{className:"py-2 px-4",children:(0,l.jsxs)("div",{className:"relative flex h-10 items-center",children:[(0,l.jsx)(p(),{href:"/",className:"font-semibold text-black",children:(0,l.jsx)("img",{src:"/icon.png",width:140,height:40,alt:"icon"})}),(0,l.jsx)("div",{className:"ml-auto flex",children:b.accessToken&&(null==r?void 0:r.id)?(0,l.jsxs)(w,{onOpenChange:e=>e&&C.refetch(),className:E?"!bg-amber-400":"bg-black",trigger:(0,l.jsxs)("div",{className:"flex items-center truncate",children:[E&&(0,l.jsx)(a.$2U,{className:"mr-2"}),E?"会员":"用户",r.id.slice(16)]}),children:[E?(0,l.jsx)(k,{onClick:()=>D("quota"),children:(0,l.jsx)("div",{className:"plausible-event-name=NAV+PAYMENT+QUOTA",children:"购买次数包"})}):null,T?null:(0,l.jsx)(k,{onClick:()=>D(),children:(0,l.jsx)("div",{className:"plausible-event-name=NAV+PAYMENT",children:E?"续费会员时长":"升级会员"})}),E?(0,l.jsx)(k,{children:(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["剩余次数：",null===(t=C.data)||void 0===t?void 0:t.quotaAvailable]})}):null,E?(0,l.jsx)(k,{children:(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["会员到期：",(0,l.jsx)("span",{className:"text-xs",children:"".concat(c()(null===(n=C.data)||void 0===n?void 0:n.subscription.endsAt).format("YYYY/MM/DD"))})]})}):null,r.phoneNumber&&r.wechatUnionId||y?null:(0,l.jsx)(k,{onClick:Y,children:P}),(0,l.jsx)(k,{onClick:Z,children:"退出登录"})]}):(0,l.jsx)(i.Z,{className:"plausible-event-name=LoginTrigger",onClick:()=>_("wechat"),children:"登录/注册"})})]})})})})};var _=(0,v.memo)(C)},7067:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var l=n(7458),a=n(2983),s=n(8644);function i(){return(0,s.$)(r(!1),arguments)}var r=function(e){return function(t,n){var l={};return t.forEach(function(a,s){var i=String(e?n(a,s,t):n(a));l[i]||(l[i]=[]),l[i].push(a)}),l}};!function(e){function t(){return(0,s.$)(r(!1),arguments)}e.indexed=function(){return(0,s.$)(r(!0),arguments)},e.strict=t,(t=e.strict||(e.strict={})).indexed=function(){return(0,s.$)(r(!0),arguments)}}(i||(i={}));var c=n(8194),o=n(8651),d=n.n(o),u=n(7608),x=n.n(u),m=n(4617);let h=e=>{let{name:t,externalLink:n}=e;return n?(0,l.jsx)("a",{className:x()("rounded-lg bg-white shadow-xl shadow-black/5 ring-1 ring-slate-700/10","plausible-event-name=Tool+".concat(t)),href:n,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(p,{...e})}):(0,l.jsx)(d(),{prefetch:!1,legacyBehavior:!0,href:"/tool/".concat(t),children:(0,l.jsx)("a",{className:x()("rounded-lg bg-white shadow-xl shadow-black/5 ring-1 ring-slate-700/10","plausible-event-name=Tool+".concat(t)),children:(0,l.jsx)(p,{...e})})})},p=e=>{let{title:t,description:n,externalLink:a,name:s}=e;return(0,l.jsxs)("div",{className:"group flex flex-col p-4 ",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-lg font-semibold text-black",children:t}),a&&(0,l.jsx)(c.h0n,{}),(0,l.jsx)(m.Z,{name:s,className:"ml-auto",hoverShow:!0})]}),(0,l.jsx)("span",{className:"mt-4 text-sm text-gray-500",children:n})]})};var f=(0,a.memo)(h);let v=e=>{let{tools:t,title:n}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-y-4 p-4",children:[n&&(0,l.jsx)("div",{className:"text-lg font-semibold text-black",children:n}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:t.map(e=>(0,l.jsx)(f,{...e},e.name))})]})};var g=(0,a.memo)(v),b=n(1911),j=n(3419),N=n(3355);let k=e=>{let{tools:t,useSection:n=!0,pageTitle:s}=e,[r,c]=(0,j.KO)(N.JW),o=(0,b.Ek)("getProfile"),d=(0,j.Dv)(N.Rx);(0,a.useEffect)(()=>{d.id&&o().then(e=>{"success"in e||c(e)})},[o,c,d.id]);let u=(0,a.useMemo)(()=>i(t,e=>e.tag),[t]);if(!n)return(0,l.jsx)("div",{className:"flex w-full flex-col gap-y-4",children:(0,l.jsx)(g,{title:s,tools:t})});let x=t.filter(e=>{var t;return null==r?void 0:null===(t=r.favoriteTemplates)||void 0===t?void 0:t[e.name]});return(0,l.jsxs)("div",{className:"flex w-full flex-col gap-y-4",children:[x.length>0&&(0,l.jsx)(g,{title:"我的收藏",tools:x}),Object.keys(u).map(e=>(0,l.jsx)(g,{title:e,tools:u[e]},e))]})};var w=(0,a.memo)(k)},40:function(e,t,n){"use strict";var l=n(3419),a=n(2983),s=n(3355);let i=()=>{let e=(0,l.b9)(s.l),t=(0,a.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wechat";e({open:!0,method:t})},[e]),n=(0,a.useCallback)(()=>{e({open:!1,method:"wechat"})},[e]);return{openBindDialog:t,closeBindDialog:n,setBindDialogOpen:e}};t.Z=i},2181:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var l=n(2797),a=n(3419),s=n(2983),i=n(1911),r=n(3355),c=n(3121);function o(){let e=(0,a.Dv)(r.Rx),t=(0,i.Ek)("currentSubscription"),n=(0,c.Z)(),o=(0,s.useCallback)(async()=>{let e=await t();if(e.success)return e.membership;n({title:"获取订阅信息失败",description:e.toast},"fail")},[t,n]),d=(0,l.a)(["currentSubscription"],o,{staleTime:1/0,enabled:!!e.id});return d}},741:function(e,t,n){"use strict";var l=n(3419),a=n(2983),s=n(3355);let i=()=>{let e=(0,l.b9)(s.Sj),t=(0,a.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wechat";e({open:!0,method:t})},[e]),n=(0,a.useCallback)(()=>{e({open:!1,method:void 0})},[e]);return{openLoginDialog:t,closeLoginDialog:n,setLoginDialogOpen:e}};t.Z=i},8665:function(e,t,n){e.exports=n(234)}}]);